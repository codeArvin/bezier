(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{106:function(e,n,t){e.exports=t(196)},111:function(e,n,t){},196:function(e,n,t){"use strict";t.r(n);var a=t(1),o=t.n(a),i=t(7),r=t.n(i),s=(t(111),t(90)),c=t(91),l=t(102),d=t(92),u=t(103),g=t(37),h=t(3),f=t.n(h),m=function(e,n,t){var a=e.x,o=e.y;return{x:a+t*(n.x-a),y:o+t*(n.y-o)}},v=function(e,n){for(var t=[e],a=e,o=e.length;o>1;){for(var i=[],r=0;r<o-1;r++)i.push(m(a[r],a[r+1],n));t.push(i),a=i,o--}return t},p={linear:function(e){return e},easeInQuad:function(e){return Math.pow(e,2)},easeInCubic:function(e){return Math.pow(e,3)},easeInQuart:function(e){return Math.pow(e,4)},easeInQuint:function(e){return Math.pow(e,5)}},w={getRatioCoord:m,getControlDots:v,getRAF:function(){return{rAF:requestAnimationFrame||function(e){return setTimeout(e,1e3/60)},cancelrAF:cancelAnimationFrame||clearTimeout}},getBezierCoords:function(e){for(var n=[],t=[],a=0;a<=1;)t=v(e,a),n.push(t.pop()[0]),a+=.001;return console.log("bezier coords count: ",n.length,a),n},getRandomColor:function(){return"#".concat((~~(Math.random()*(1<<24))).toString(16))},ease:p,getRatio:function(e,n){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:p.linear)(e/n)},getTime:function(){return Date.now()},getEmptyArr:function(e){for(var n=[],t=0;t<e;t++)n.push(t);return n},debounce:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,t=null;return function(){var a=this,o=arguments;t&&(clearTimeout(t),t=null),t=setTimeout(function(){e.apply(a,o)},n)}}},b=t(198),x=t(199),D=450,C=[3,20],y=[1e3,1e4],z=4,E="rgba(33, 150, 243, 1)",A=2,M="butt",k=4,T="round",I="#ff5722",R=3,W=1500,N="linear",B=w.getRAF().rAF,j=function(e){function n(e){var t;return Object(s.a)(this,n),(t=Object(l.a)(this,Object(d.a)(n).call(this,e))).windowResize=function(){t.canvasWidth=window.innerWidth-D,t.canvasHeight=window.innerHeight-20,t.imageData=t.ctx.getImageData(0,0,t.canvasWidth,t.canvasHeight),t.update()},t.drawDot=function(e){var n=e.x,a=e.y,o=e.radius,i=void 0===o?z:o,r=e.color,s=void 0===r?E:r,c=t.ctx;c.beginPath(),c.arc(n,a,i,0,2*Math.PI),c.closePath(),c.fillStyle=s,c.fill()},t.drawLine=function(e){var n=e.beginDot,a=e.endDot,o=e.lineWidth,i=void 0===o?A:o,r=e.lineCap,s=void 0===r?M:r,c=e.color,l=void 0===c?E:c,d=t.ctx;d.beginPath(),d.moveTo(n.x,n.y),d.lineTo(a.x,a.y),d.closePath(),d.lineWidth=i,d.lineCap=s,d.strokeStyle=l,d.stroke()},t.drawControlDots=function(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?t.controlDots.forEach(function(e,n){var a=t.colors[n];e.forEach(function(n,o){0!==o&&t.drawLine({beginDot:e[o-1],endDot:n,color:a}),t.drawDot({x:n.x,y:n.y,color:a})})}):t.dots.forEach(function(e,n){0!==n&&t.drawLine({beginDot:t.dots[n-1],endDot:e}),t.drawDot({x:e.x,y:e.y})})},t.drawBezier=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?1:t.ratio,n=t.bezierCoords.length,a=t.bezierCoords.filter(function(t,a){return a/n<=e}),o=a.shift(),i=o.x,r=o.y,s=t.ctx;s.beginPath(),s.moveTo(i,r),a.forEach(function(e){var n=e.x,t=e.y;s.lineTo(n,t)}),s.strokeStyle=I,s.lineWidth=k,s.lineCap=T,s.stroke()},t.beginDrawing=function(){t.bezierCoords=w.getBezierCoords(t.dots);var e=w.getTime(),n=e+t.duration;t.colors=w.getEmptyArr(t.count).map(function(e){return 0===e?E:w.getRandomColor()});t.setState({isAnimating:!0}),function a(){var o=w.getTime();if(t.ratio=o>=n?1:w.getRatio(o-e,t.duration,w.ease[t.easingType]),t.controlDots=w.getControlDots(t.dots,t.ratio),t.clear(),t.drawControlDots(),t.drawBezier(!1),o>=n)return t.clear(),t.drawDotsAndBezier(),void t.setState({isAnimating:!1});B(a)}()},t.drawDotsAndBezier=function(){t.drawControlDots(!1),t.drawBezier()},t.clear=function(){t.ctx.clearRect(0,0,t.canvasWidth,t.canvasHeight)},t.update=function(){t.setState({})},t.handleCanvasMouseDown=function(e){var n=e.pageX-t.canvas.offsetLeft,a=e.pageY-t.canvas.offsetTop,o=t.dots.length;if(o<t.count){var i={x:n,y:a};t.dots.push(i),t.drawDot(i),0!==o&&t.drawLine({beginDot:t.dots[o-1],endDot:i}),o+1===t.count&&t.beginDrawing()}else{if(t.state.isAnimating)return;for(var r=0;r<t.dots.length;r++){var s=t.dots[r],c=s.x,l=s.y;if(Math.sqrt(Math.pow(c-n,2)+Math.pow(l-a,2))<=6){t.targetIndex=r;break}}}},t.handleCanvasMouseMove=function(e){null!==t.targetIndex&&(t.dots[t.targetIndex]={x:e.pageX-t.canvas.offsetLeft,y:e.pageY-t.canvas.offsetTop},t.clear(),t.bezierCoords=w.getBezierCoords(t.dots),t.drawDotsAndBezier())},t.handleCanvasMouseUp=function(){t.targetIndex=null},t.handleConfigChange=function(e,n){if(!t.state.isAnimating){switch(e){case"controlDot":t.count=n;break;case"duration":t.duration=n;break;case"easingType":t.easingType=n}t.dots=[],t.controlDots=[],t.colors=[],t.ratio=0,t.bezierCoords=[],t.clear(),t.update()}},t.listRender=function(e){var n=f()({"easing-list-item":!0,disable:t.state.isAnimating,active:e===t.easingType});return o.a.createElement(b.a.Item,{className:n,onClick:t.handleConfigChange.bind(Object(g.a)(Object(g.a)(t)),"easingType",e)},o.a.createElement("div",{style:{margin:"0 auto"}},e))},t.state={isAnimating:!1},t.canvas=null,t.ctx=null,t.imageData=null,t.canvasWidth=window.innerWidth-D,t.canvasHeight=window.innerHeight-20,t.count=R,t.dots=[],t.controlDots=[],t.colors=[],t.ratio=0,t.targetIndex=null,t.bezierCoords=[],t.duration=W,t.easingType=N,t.windowResize=w.debounce(t.windowResize,100),t}return Object(u.a)(n,e),Object(c.a)(n,[{key:"componentDidMount",value:function(){this.ctx=this.canvas.getContext("2d"),window.addEventListener("resize",this.windowResize)}},{key:"componentDidUpdate",value:function(){this.imageData&&this.ctx.putImageData(this.imageData,0,0),this.imageData=null}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.windowResize)}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"panel"},o.a.createElement("div",{className:"App-title"},"\u8d1d\u585e\u5c14\u66f2\u7ebf"),o.a.createElement("div",{className:"control"},o.a.createElement("div",{className:"title"},"\u63a7\u5236\u70b9\u4e2a\u6570\uff1a",this.count),o.a.createElement(x.a,{dots:!0,min:C[0],max:C[1],step:1,value:this.count,onChange:this.handleConfigChange.bind(this,"controlDot"),disabled:this.state.isAnimating})),o.a.createElement("div",{className:"duration"},o.a.createElement("div",{className:"title"},"\u52a8\u753b\u65f6\u957f\uff1a",this.duration/1e3,"s"),o.a.createElement(x.a,{dots:!0,min:y[0],max:y[1],step:1e3,value:this.duration,onChange:this.handleConfigChange.bind(this,"duration"),disabled:this.state.isAnimating})),o.a.createElement("div",{className:"animate"},o.a.createElement("div",{className:"title"},"\u52a8\u753b\u6548\u679c\uff1a",this.easingType),o.a.createElement(b.a,{className:"easing-list",bordered:!0,size:"small",dataSource:Object.keys(w.ease),renderItem:this.listRender}))),o.a.createElement("canvas",{className:"canvas",width:"".concat(this.canvasWidth,"px"),height:"".concat(this.canvasHeight,"px"),ref:function(n){return e.canvas=n},onMouseDown:this.handleCanvasMouseDown,onMouseMove:this.handleCanvasMouseMove,onMouseUp:this.handleCanvasMouseUp},"\u4f60\u7684\u6d4f\u89c8\u5668\u4e0d\u652f\u6301 canvas\uff0c \u8bf7\u5347\u7ea7\u4f60\u7684\u6d4f\u89c8\u5668\u3002"),o.a.createElement("style",{jsx:"true"},"\n                    .App {\n                        overflow: hidden;\n                        display: flex;\n                        flex-direction: row;\n                        height: 100%;\n                    }\n                    .App-title {\n                        font-size: 30px;\n                        font-weight: bolder;\n                        color: ".concat("rgba(33, 150, 243, 1)",";\n                        margin-bottom: 20px;\n                    }\n                    .panel {\n                        width: ").concat(D,"px;\n                        height: 100%;\n                        display: flex;\n                        flex-direction: column;\n                        padding-left: 20px;\n                        padding-top: 20px;\n                    }\n                    .control, .duration {\n                        width: 400px;\n                    }\n                    .title {\n                        color: ").concat("rgba(33, 150, 243, 1)",";\n                        font-size: 16px;\n                        font-weight: bold;\n                    }\n                    .easing-list {\n                        margin-top: 10px;\n                        width: 200px;\n                        overflow: scroll;\n                    }\n                    .easing-list-item {\n                        transition: all 0.5s;\n                        color: ").concat("rgba(33, 150, 243, 1)",";\n                    }\n                    .easing-list-item:not(.disable):hover {\n                        background-color: ").concat("rgba(140, 200, 255, 0.3)",";\n                        cursor: pointer;\n                    }\n                    .easing-list-item.disable:hover {\n                        cursor: not-allowed;\n                    }\n                    .disable {\n                        background-color: ").concat("#f5f5f5",";\n                        color: ").concat("#b7b7b7",";\n                    }\n                    .active {\n                        background-color: ").concat("rgba(140, 200, 255, 0.3)",";\n                    }\n                    .canvas {\n                        margin: 0 ").concat(10,"px;\n                        border: 1px solid ").concat("rgba(140, 200, 255, 1)",";\n                        border-radius: 5px;\n                        box-shadow: 0 0 5px 1px ").concat("rgba(140, 200, 255, 1)",";\n                        align-self: center;\n                    }\n                ")))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[106,2,1]]]);
//# sourceMappingURL=main.60d9578c.chunk.js.map