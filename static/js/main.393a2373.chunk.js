(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{106:function(t,e,n){t.exports=n(196)},111:function(t,e,n){},196:function(t,e,n){"use strict";n.r(e);var a=n(1),o=n.n(a),i=n(7),r=n.n(i),s=(n(111),n(90)),c=n(91),l=n(102),d=n(92),u=n(103),h=n(37),g=n(3),f=n.n(g),v=function(t,e,n){var a=t.x,o=t.y;return{x:a+n*(e.x-a),y:o+n*(e.y-o)}},m=function(t,e){for(var n=[t],a=t,o=t.length;o>1;){for(var i=[],r=0;r<o-1;r++)i.push(v(a[r],a[r+1],e));n.push(i),a=i,o--}return n},p={linear:function(t){return t},easeInQuad:function(t){return Math.pow(t,2)},easeInCubic:function(t){return Math.pow(t,3)},easeInQuart:function(t){return Math.pow(t,4)},easeInQuint:function(t){return Math.pow(t,5)}},w={getRatioCoord:v,getControlDots:m,getRAF:function(){return{rAF:requestAnimationFrame||function(t){return setTimeout(t,1e3/60)},cancelrAF:cancelAnimationFrame||clearTimeout}},getBezierCoords:function(t){for(var e=[],n=[],a=0;a<=1;)n=m(t,a),e.push(n.pop()[0]),a=+(a+.001).toFixed(3);return e},getRandomColor:function(){return"#".concat((~~(Math.random()*(1<<24))).toString(16))},ease:p,getRatio:function(t,e){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:p.linear)(t/e)},getTime:function(){return Date.now()},getEmptyArr:function(t){for(var e=[],n=0;n<t;n++)e.push(n);return e},debounce:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=null;return function(){var a=this,o=arguments;n&&(clearTimeout(n),n=null),n=setTimeout(function(){t.apply(a,o)},e)}},getOffset:function(t){for(var e=t,n=0,a=0;e;)n+=e.offsetLeft,a+=e.offsetTop,e=e.offsetParent;return{left:n,top:a}}},x=n(198),b=n(199),D="rgba(33, 150, 243, 1)",y=450,C=[3,20],E=[1e3,1e4],z=4,A=D,M=2,k="butt",T=4,R="round",W="#ff5722",I=3,N=2e3,B="linear",O=w.getRAF().rAF,H=function(t){function e(t){var n;return Object(s.a)(this,e),(n=Object(l.a)(this,Object(d.a)(e).call(this,t))).windowResize=function(){n.canvasWidth=window.innerWidth-y,n.canvasHeight=window.innerHeight-20,n.imageData=n.ctx.getImageData(0,0,n.canvasWidth,n.canvasHeight),n.update()},n.drawDot=function(t){var e=t.x,a=t.y,o=t.radius,i=void 0===o?z:o,r=t.color,s=void 0===r?A:r,c=n.ctx;c.beginPath(),c.arc(e,a,i,0,2*Math.PI),c.closePath(),c.fillStyle=s,c.fill()},n.drawLine=function(t){var e=t.beginDot,a=t.endDot,o=t.lineWidth,i=void 0===o?M:o,r=t.lineCap,s=void 0===r?k:r,c=t.color,l=void 0===c?A:c,d=n.ctx;d.beginPath(),d.moveTo(e.x,e.y),d.lineTo(a.x,a.y),d.closePath(),d.lineWidth=i,d.lineCap=s,d.strokeStyle=l,d.stroke()},n.drawControlDots=function(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?n.controlDots.forEach(function(t,e){var a=n.colors[e];t.forEach(function(e,o){0!==o&&n.drawLine({beginDot:t[o-1],endDot:e,color:a}),n.drawDot({x:e.x,y:e.y,color:a})})}):n.dots.forEach(function(t,e){0!==e&&n.drawLine({beginDot:n.dots[e-1],endDot:t}),n.drawDot({x:t.x,y:t.y})})},n.drawBezier=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?1:n.ratio,e=n.bezierCoords.length,a=n.bezierCoords.filter(function(n,a){return a/e<=t}),o=a.shift(),i=o.x,r=o.y,s=n.ctx;s.beginPath(),s.moveTo(i,r),a.forEach(function(t){var e=t.x,n=t.y;s.lineTo(e,n)}),s.strokeStyle=W,s.lineWidth=T,s.lineCap=R,s.stroke()},n.beginDrawing=function(){n.bezierCoords=w.getBezierCoords(n.dots);var t=w.getTime(),e=t+n.duration;n.colors=w.getEmptyArr(n.count).map(function(t){return 0===t?A:w.getRandomColor()});n.setState({isAnimating:!0}),function a(){var o=w.getTime();if(n.ratio=o>=e?1:w.getRatio(o-t,n.duration,w.ease[n.easingType]),n.controlDots=w.getControlDots(n.dots,n.ratio),n.clear(),n.drawControlDots(),n.drawBezier(!1),o>=e)return n.clear(),n.drawDotsAndBezier(),void n.setState({isAnimating:!1});O(a)}()},n.drawDotsAndBezier=function(){n.drawControlDots(!1),n.drawBezier()},n.drawDetail=function(){var t=n.ctxd;t.clearRect(0,0,n.canvasWidth,n.canvasHeight),t.font="20px Arial",t.fillStyle=D,n.dots.forEach(function(e,n){var a=e.x,o=e.y;t.fillText("[".concat(a,", ").concat(o,"]"),10,25*(n+1))})},n.clear=function(){n.ctx.clearRect(0,0,n.canvasWidth,n.canvasHeight)},n.update=function(){n.setState({})},n.handleCanvasMouseDown=function(t){var e=w.getOffset(n.canvas),a=e.left,o=e.top,i=t.pageX-a,r=t.pageY-o,s=n.dots.length;if(s<n.count){var c={x:i,y:r};n.dots.push(c),n.drawDot(c),0!==s&&n.drawLine({beginDot:n.dots[s-1],endDot:c}),n.drawDetail(),s+1===n.count&&n.beginDrawing()}else{if(n.state.isAnimating)return;for(var l=0;l<n.dots.length;l++){var d=n.dots[l],u=d.x,h=d.y;if(Math.sqrt(Math.pow(u-i,2)+Math.pow(h-r,2))<=6){n.targetIndex=l;break}}}},n.handleCanvasMouseMove=function(t){if(null!==n.targetIndex){var e=w.getOffset(n.canvas),a=e.left,o=e.top;n.dots[n.targetIndex]={x:t.pageX-a,y:t.pageY-o},n.clear(),n.bezierCoords=w.getBezierCoords(n.dots),n.drawDotsAndBezier()}},n.handleCanvasMouseUp=function(){n.targetIndex=null},n.handleConfigChange=function(t,e){if(!n.state.isAnimating){switch(t){case"controlDot":n.count=e;break;case"duration":n.duration=e;break;case"easingType":n.easingType=e;break;default:return}n.dots=[],n.controlDots=[],n.colors=[],n.ratio=0,n.bezierCoords=[],n.ctxd.clearRect(0,0,n.canvasWidth,n.canvasHeight),n.clear(),n.update()}},n.listRender=function(t){var e=f()({"easing-list-item":!0,disable:n.state.isAnimating,active:t===n.easingType});return o.a.createElement(x.a.Item,{className:e,onClick:n.handleConfigChange.bind(Object(h.a)(Object(h.a)(n)),"easingType",t)},o.a.createElement("div",{style:{margin:"0 auto"}},t))},n.state={isAnimating:!1},n.canvas=null,n.ctx=null,n.canvasDetail=null,n.ctxd=null,n.imageData=null,n.canvasWidth=window.innerWidth-y,n.canvasHeight=window.innerHeight-20,n.count=I,n.dots=[],n.controlDots=[],n.colors=[],n.ratio=0,n.targetIndex=null,n.bezierCoords=[],n.duration=N,n.easingType=B,n.windowResize=w.debounce(n.windowResize,100),n}return Object(u.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){this.ctx=this.canvas.getContext("2d"),this.ctxd=this.canvasDetail.getContext("2d"),window.addEventListener("resize",this.windowResize)}},{key:"componentDidUpdate",value:function(){this.imageData&&this.ctx.putImageData(this.imageData,0,0),this.imageData=null}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.windowResize)}},{key:"render",value:function(){var t=this;return o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"panel"},o.a.createElement("div",{className:"App-title"},"\u8d1d\u585e\u5c14\u66f2\u7ebf"),o.a.createElement("div",{className:"control"},o.a.createElement("div",{className:"title"},"\u63a7\u5236\u70b9\u4e2a\u6570\uff1a",this.count),o.a.createElement(b.a,{dots:!0,min:C[0],max:C[1],step:1,value:this.count,onChange:this.handleConfigChange.bind(this,"controlDot"),disabled:this.state.isAnimating})),o.a.createElement("div",{className:"duration"},o.a.createElement("div",{className:"title"},"\u52a8\u753b\u65f6\u957f\uff1a",this.duration/1e3,"s"),o.a.createElement(b.a,{dots:!0,min:E[0],max:E[1],step:1e3,value:this.duration,onChange:this.handleConfigChange.bind(this,"duration"),disabled:this.state.isAnimating})),o.a.createElement("div",{className:"animate"},o.a.createElement("div",{className:"title"},"\u52a8\u753b\u6548\u679c\uff1a",this.easingType),o.a.createElement(x.a,{className:"easing-list",bordered:!0,size:"small",dataSource:Object.keys(w.ease),renderItem:this.listRender}))),o.a.createElement("div",{className:"canvas"},o.a.createElement("canvas",{width:"".concat(this.canvasWidth,"px"),height:"".concat(this.canvasHeight,"px"),ref:function(e){return t.canvasDetail=e}},"\u4f60\u7684\u6d4f\u89c8\u5668\u4e0d\u652f\u6301 canvas\uff0c \u8bf7\u5347\u7ea7\u4f60\u7684\u6d4f\u89c8\u5668\u3002"),o.a.createElement("canvas",{width:"".concat(this.canvasWidth,"px"),height:"".concat(this.canvasHeight,"px"),ref:function(e){return t.canvas=e},onMouseDown:this.handleCanvasMouseDown,onMouseMove:this.handleCanvasMouseMove,onMouseUp:this.handleCanvasMouseUp},"\u4f60\u7684\u6d4f\u89c8\u5668\u4e0d\u652f\u6301 canvas\uff0c \u8bf7\u5347\u7ea7\u4f60\u7684\u6d4f\u89c8\u5668\u3002")),o.a.createElement("style",{jsx:"true"},"\n                    .App {\n                        overflow: hidden;\n                        display: flex;\n                        flex-direction: row;\n                        height: 100%;\n                    }\n                    .App-title {\n                        font-size: 30px;\n                        font-weight: bolder;\n                        color: ".concat(D,";\n                        margin-bottom: 20px;\n                    }\n                    .panel {\n                        width: ").concat(y,"px;\n                        height: 100%;\n                        display: flex;\n                        flex-direction: column;\n                        padding-left: 20px;\n                        padding-top: 20px;\n                    }\n                    .control, .duration {\n                        width: 400px;\n                    }\n                    .title {\n                        color: ").concat(D,";\n                        font-size: 16px;\n                        font-weight: bold;\n                    }\n                    .easing-list {\n                        margin-top: 10px;\n                        width: 200px;\n                        overflow: scroll;\n                    }\n                    .easing-list-item {\n                        transition: all 0.5s;\n                        color: ").concat(D,";\n                    }\n                    .easing-list-item:not(.disable):hover {\n                        background-color: ").concat("rgba(140, 200, 255, 0.3)",";\n                        cursor: pointer;\n                    }\n                    .easing-list-item.disable:hover {\n                        cursor: not-allowed;\n                    }\n                    .disable {\n                        background-color: ").concat("#f5f5f5",";\n                        color: ").concat("#b7b7b7",";\n                    }\n                    .active {\n                        background-color: ").concat("rgba(140, 200, 255, 0.3)",";\n                    }\n                    .canvas {\n                        margin: 0 ").concat(10,"px;\n                        border: 1px solid ").concat("rgba(140, 200, 255, 1)",";\n                        border-radius: 5px;\n                        box-shadow: 0 0 5px 1px ").concat("rgba(140, 200, 255, 1)",";\n                        align-self: center;\n                        position: relative;\n                        line-height: 0;\n                    }\n                    .canvas canvas:last-child {\n                        position: absolute;\n                        top: 0;\n                        left: 0;\n                    }\n                ")))}}]),e}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[106,2,1]]]);
//# sourceMappingURL=main.393a2373.chunk.js.map